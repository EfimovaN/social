(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{10:function(e,t,n){e.exports={gallery:"Gallery_gallery__3UQiP",photos:"Gallery_photos__O1HQL",video:"Gallery_video__3AGNj",photos__list:"Gallery_photos__list__3L6MI",video__list:"Gallery_video__list__364aO",photos__item:"Gallery_photos__item__2kgGN",video__item:"Gallery_video__item__12yZp",members:"Gallery_members__966_K",members__list:"Gallery_members__list__11JzX",members__item:"Gallery_members__item__4qf0m"}},100:function(e,t,n){e.exports={profileContainer:"Profile_profileContainer__3lONb",profile:"Profile_profile__3dzvr"}},101:function(e,t,n){e.exports={loginPage:"Login_loginPage__-UEgp",loginForm:"Login_loginForm__1Hg13"}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j}));var r=n(3),s=n(57),a=(n(1),n(29)),o=n.n(a),i=(n(33),n(95)),c=n(0),l=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,s=e.children,a=n&&r;return Object(c.jsxs)("div",{className:o.a.formControl+" "+(a?o.a.error:""),children:[Object(c.jsx)("div",{children:s}),a&&Object(c.jsx)("span",{className:o.a.errorPassword,children:r})]})},u=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(c.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},d=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(c.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(c.jsxs)("div",{children:[Object(c.jsx)(i.a,Object(r.a)({placeholder:e,name:t,validate:n,component:s},a))," ",o]})}},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(45),s=n(3),a="ADD-MESSAGE",o={dialogs:[{id:1,name:"Dmitriy",img:"https://i11.fotocdn.net/s122/d061c2f149c4cd54/user_l/2799648252.jpg"},{id:2,name:"Andrey",img:"https://avatars.mds.yandex.net/get-zen_doc/1641332/pub_5d0764b7e75e750e0c9f8c86_5d076537789be40d64bb3e55/scale_1200"},{id:3,name:"Sveta",img:"https://proprikol.ru/wp-content/uploads/2020/04/kartinki-dlya-vajbera-na-avu-2.jpg"},{id:4,name:"Sasha",img:"https://sun9-67.userapi.com/c851420/v851420113/17b609/2xTFgEyYQcM.jpg"},{id:5,name:"Anna",img:"https://proprikol.ru/wp-content/uploads/2019/07/prikolnye-kartinki-na-avu-21.jpg"}],messages:[{id:1,message:"Hello my friend!"},{id:2,message:"How are you?"},{id:3,message:"I'm fine, and you?"},{id:4,message:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."}]},i=function(e){return{type:a,newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n=t.newMessageBody;return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:4,message:n}])});default:return e}}},136:function(e,t,n){e.exports={preloader:"Preloader_preloader__2G3Hk"}},14:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__2IJgv",login:"ProfileInfo_login__1PwG0",imageUpload:"ProfileInfo_imageUpload__1VBDE",uploadPhoto:"ProfileInfo_uploadPhoto__2iyZp",avatar:"ProfileInfo_avatar__3xuFq",status:"ProfileInfo_status__2G3BZ",profileData:"ProfileInfo_profileData__18agI",wrapper:"ProfileInfo_wrapper__3boPV",status__change:"ProfileInfo_status__change__3ugBz",info__edit:"ProfileInfo_info__edit__3ANWG",button__profile:"ProfileInfo_button__profile__2XktP",save__profile:"ProfileInfo_save__profile__3ZD85"}},169:function(e,t,n){},170:function(e,t,n){},29:function(e,t,n){e.exports={loginForm:"FormControls_loginForm__8gLPu",formControl:"FormControls_formControl__2SPvv",error:"FormControls_error__3zfBa",errorPassword:"FormControls_errorPassword__KA8g4",formControlSummaryError:"FormControls_formControlSummaryError__3Nn_n",checkbox:"FormControls_checkbox__b0iUB"}},294:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(68),o=n.n(a),i=(n(169),n(21)),c=n(22),l=n(24),u=n(23),d=(n(170),n(11)),j=n(13),p=n(45),b=n(3),f=n(134),h=n.n(f).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"952eaf7c-5e2f-45d7-a53d-3508e1f1673c"}}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},O=function(e){return h.post("follow/".concat(e)).then((function(e){return e.data}))},g=function(e){return h.delete("follow/".concat(e)).then((function(e){return e.data}))},_=function(e){return h.get("profile/"+e).then((function(e){return e.data}))},x=function(e){return h.get("profile/status/"+e).then((function(e){return e.data}))},v=function(e){return h.put("profile/status/",{status:e}).then((function(e){return e.data}))},y=function(e){var t=new FormData;return t.append("image",e),h.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},P=function(e){return h.put("profile",e)},w=function(){return h.get("auth/me")},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},S=function(){return h.delete("auth/login")},C=function(){return h.get("security/get-captcha-url")},I=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(b.a)(Object(b.a)({},e),r):e}))},k="FOLLOW",U="UNFOLLOW",F="SET_USERS",E="SET_TOTAL_USERS_COUNT",A="SET_CURRENT_PAGE",L="TOGGLE_IS_FETCHING",T="TOGGLE_IS_FOLLOWING_PROGRESS",z={users:[],pageSize:12,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],fake:10},G=function(e){return{type:A,currentPage:e}},M=function(e){return{type:L,isFetching:e}},D=function(e,t){return{type:T,isFetching:e,userId:t}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(b.a)(Object(b.a)({},e),{},{users:I(e.users,t.userId,"id",{followed:!0})});case U:return Object(b.a)(Object(b.a)({},e),{},{users:I(e.users,t.userId,"id",{followed:!1})});case F:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case E:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.count});case A:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case L:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case T:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(p.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},R=n(57),H=n(47),J=n.n(H),V=n.p+"static/media/user-icons.28842538.png",Y=n(16),q=n(71),K=n(39),X=n(74),Q=n.n(X),Z=n(135),W=n.n(Z),$=n(0),ee=function(e){for(var t=e.totalItemsCount,n=e.pageSize,s=e.currentPage,a=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,c=Math.ceil(t/n),l=[],u=1;u<=c;u++)l.push(u);var d=Math.ceil(c/i),j=Object(r.useState)(1),p=Object(K.a)(j,2),b=p[0],f=p[1],h=(b-1)*i+1,m=b*i;return Object($.jsxs)("div",{className:Q.a.paginator,children:[b>1&&Object($.jsx)("button",{onClick:function(){f(b-1)},children:"PREV"}),l.filter((function(e){return e>=h&&e<=m})).map((function(e){return Object($.jsx)("span",{className:W()(Object(q.a)({},Q.a.selectedPage,s===e),Q.a.pageNumber),onClick:function(t){a(e)},children:e},e)})),d>b&&Object($.jsx)("button",{onClick:function(){f(b+1)},children:"NEXT"})]})},te=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,s=e.onPageChanged,a=e.users,o=Object(R.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return Object($.jsxs)("div",{className:J.a.userContainer,children:[Object($.jsx)(ee,{currentPage:t,onPageChanged:s,totalItemsCount:n,pageSize:r}),Object($.jsx)("div",{className:J.a.userList,children:a.map((function(e){return Object($.jsxs)("div",{className:J.a.userItem,children:[Object($.jsx)(Y.b,{to:"/profile/"+e.id,children:Object($.jsx)("img",{src:null!=e.photos.small?e.photos.small:V,className:J.a.photo})}),Object($.jsxs)("div",{className:J.a.userInfo,children:[Object($.jsx)("h3",{children:e.name}),Object($.jsx)("p",{children:e.status}),e.followed?Object($.jsx)("button",{disabled:o.followingInProgress.some((function(t){return t===e.id})),onClick:function(){o.unfollow(e.id)},children:"Unfollow"}):Object($.jsx)("button",{disabled:o.followingInProgress.some((function(t){return t===e.id})),onClick:function(){o.follow(e.id)},children:"Follow"})]})]},e.id)}))})]})},ne=n.p+"static/media/preloader.44de7d6e.svg",re=n(136),se=n.n(re),ae=function(e){return Object($.jsx)("div",{className:se.a.preloader,children:Object($.jsx)("img",{src:ne})})},oe=n(9),ie=n(137),ce=Object(ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),le=function(e){return e.usersPage.pageSize},ue=function(e){return e.usersPage.totalUsersCount},de=function(e){return e.usersPage.currentPage},je=function(e){return e.usersPage.isFetching},pe=function(e){return e.usersPage.followingInProgress},be=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[this.props.isFetching?Object($.jsx)(ae,{}):null,Object($.jsx)(te,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(s.a.Component),fe=Object(oe.d)(Object(j.b)((function(e){return{users:ce(e),pageSize:le(e),totalUsersCount:ue(e),currentPage:de(e),isFetching:je(e),followingInProgress:pe(e)}}),{follow:function(e){return function(t){t(D(!0,e)),O(e).then((function(n){0==n.resultCode&&t(function(e){return{type:k,userId:e}}(e)),t(D(!1,e))}))}},unfollow:function(e){return function(t){t(D(!0,e)),g(e).then((function(n){0==n.resultCode&&t(function(e){return{type:U,userId:e}}(e)),t(D(!1,e))}))}},setCurrentPage:G,toggleFollowingProgress:D,requestUsers:function(e,t){return function(n){n(M(!0)),n(G(e)),m(e,t).then((function(e){var t,r;n(M(!1)),n((t=e.items,{type:F,users:t})),n((r=e.totalCount,{type:E,count:r}))}))}}}))(be),he=n(94),me=n(46),Oe=n.n(me),ge=n(72),_e=n(30),xe="ADD-POST",ve="SET_USERS_PROFILE",ye="SET_STATUS",Pe="DELETE_POST",we="SAVE_PHOTO_SUCCESS",Ne={posts:[{id:1,message:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",like:5},{id:2,message:"How are you?",like:20},{id:3,message:"Hi. It's my first post",like:3}],profile:null,status:""},Se=function(e){return{type:ye,status:e}},Ce=function(e){return function(t){_(e).then((function(e){t({type:ve,profile:e})}))}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case xe:var n=t.newPostBody;return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[{id:4,message:n,like:0}])});case ve:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case Pe:return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case we:return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{photos:t.photos})});default:return e}},ke=n(14),Ue=n.n(ke),Fe=(s.a.Component,function(e){var t=Object(r.useState)(!1),n=Object(K.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)(e.status),i=Object(K.a)(o,2),c=i[0],l=i[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object($.jsx)("div",{className:Ue.a.status,children:s?Object($.jsx)("div",{children:Object($.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(c)},value:c})}):Object($.jsxs)("div",{children:[Object($.jsx)("b",{children:"Status: \xa0"}),Object($.jsx)("span",{className:Ue.a.status__change,onDoubleClick:function(){a(!0)},children:e.status||"--------"})]})})}),Ee=n(132),Ae=n(12),Le=n(29),Te=n.n(Le),ze=Object(Ee.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return Object($.jsxs)("form",{onSubmit:t,className:Ue.a.wrapper,children:[Object($.jsx)("div",{children:Object($.jsx)("button",{className:Ue.a.save__profile,children:"Save"})}),r&&Object($.jsx)("div",{className:Te.a.formControlSummaryError,children:r}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"Full name:"})," ",Object(Ae.c)("Full name","fullName",[],Ae.a)]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"Looking for a job:"})," ",Object(Ae.c)("","lookingForAJob",[],Ae.a,{type:"checkbox"})]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"My professional skills:"})," ",Object(Ae.c)("My professional skills","lookingForAJobDescription",[],Ae.b)]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"About me:"})," ",Object(Ae.c)("About me","aboutMe",[],Ae.b)]}),Object($.jsxs)("div",{children:[Object($.jsx)("h3",{children:"Contacts:"})," ",Object.keys(n.contacts).map((function(e){return Object($.jsxs)("div",{className:Ue.a.contact,children:[Object($.jsxs)("p",{children:[e,":"]})," ",Object(Ae.c)(e,"contacts."+e,[],Ae.a)]},e)}))]})]})})),Ge=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object($.jsxs)("div",{className:Ue.a.profileData,children:[Object($.jsxs)("div",{className:Ue.a.wrapper,children:[Object($.jsxs)("div",{className:Ue.a.info__edit,children:[Object($.jsx)("h3",{children:"Info"}),n&&Object($.jsx)("button",{className:Ue.a.button__profile,onClick:r,children:"Edit"})]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"Full name:"})," ",t.fullName]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"LookingForAJob:"})," ",t.lookingForAJob?"Yes":"No"]}),t.lookingForAJob&&Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"My professional skills:"})," ",t.lookingForAJobDescription]}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{children:"About me:"})," ",t.aboutMe]})]}),Object($.jsxs)("div",{className:Ue.a.wrapper,children:[Object($.jsx)("h3",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object($.jsx)(Me,{contactsTitle:e,contactsValue:t.contacts[e]},e)}))]})]})},Me=function(e){var t=e.contactsTitle,n=e.contactsValue;return Object($.jsxs)("div",{children:[Object($.jsxs)("p",{children:[t,": "]}),n]})},De=function(e){var t=e.profile,n=e.status,s=e.updateStatus,a=e.isOwner,o=e.savePhoto,i=e.saveProfile,c=(e.login,Object(r.useState)(!1)),l=Object(K.a)(c,2),u=l[0],d=l[1];if(!t)return Object($.jsx)(ae,{});return Object($.jsxs)("div",{className:Ue.a.profileInfo,children:[Object($.jsxs)("div",{className:Ue.a.avatar,children:[Object($.jsx)("div",{className:Ue.a.login,children:t.fullName}),Object($.jsx)("img",{src:null!=t.photos.large?t.photos.large:V}),a&&Object($.jsxs)("form",{className:Ue.a.imageUpload,children:[Object($.jsx)("label",{htmlFor:"imageUpload",className:Ue.a.uploadPhoto,children:"Set profile photo"}),Object($.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])},id:"imageUpload",accept:"image/*",style:{display:"none"}})]})]}),Object($.jsx)(Fe,{status:n,updateStatus:s}),u?Object($.jsx)(ze,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){d(!1)}))}}):Object($.jsx)(Ge,{goToEditMode:function(){d(!0)},profile:t,isOwner:a})]})},Be=n(95),Re=n(33),He=n(76),Je=n.n(He),Ve=n(77),Ye=n.n(Ve),qe=n.p+"static/media/butterfly.9016b690.png",Ke=function(e){return Object($.jsxs)("div",{className:Ye.a.post,children:[Object($.jsx)("img",{src:qe,alt:"avatar",width:"100",height:"100"}),Object($.jsx)("div",{className:Ye.a.message,children:e.message}),Object($.jsxs)("div",{className:Ye.a.like,children:["like ",e.like]})]})},Xe=Object(Re.a)(200),Qe=Object(Ee.a)({form:"addPost"})((function(e){return Object($.jsxs)("form",{onSubmit:e.handleSubmit,className:Je.a.myPostsForm,children:[Object($.jsx)(Be.a,{name:"newPostBody",component:Ae.b,validate:[Re.b,Xe],type:"text",placeholder:"Say what is on your mind..."}),Object($.jsx)("button",{children:"Add post"})]})})),Ze=s.a.memo((function(e){var t=e.posts.map((function(e){return Object($.jsx)(Ke,{message:e.message,like:e.like},e.id)}));return Object($.jsxs)("div",{className:Je.a.myPosts,children:[Object($.jsx)(Qe,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Object($.jsx)("div",{className:Je.a.postList,children:t})]})})),We=Object(j.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:xe,newPostBody:e}}})(Ze),$e=n(100),et=n.n($e),tt=n(10),nt=n.n(tt),rt=function(){return Object($.jsxs)("div",{className:nt.a.gallery,children:[Object($.jsxs)("div",{className:nt.a.photos,children:[Object($.jsx)("h3",{children:"Photos"}),Object($.jsxs)("ul",{className:nt.a.photos__list,children:[Object($.jsx)("li",{className:nt.a.photos__item}),Object($.jsx)("li",{className:nt.a.photos__item}),Object($.jsx)("li",{className:nt.a.photos__item}),Object($.jsx)("li",{className:nt.a.photos__item}),Object($.jsx)("li",{className:nt.a.photos__item}),Object($.jsx)("li",{className:nt.a.photos__item})]})]}),Object($.jsxs)("div",{className:nt.a.video,children:[Object($.jsx)("h3",{children:"Video"}),Object($.jsxs)("ul",{className:nt.a.video__list,children:[Object($.jsx)("li",{className:nt.a.video__item,children:Object($.jsx)("iframe",{width:"140",height:"120",src:"https://www.youtube.com/embed/tAgVINdc_o0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object($.jsx)("li",{className:nt.a.video__item,children:Object($.jsx)("iframe",{width:"140",height:"120",src:"https://www.youtube.com/embed/GNrdg3PzpJQ",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object($.jsx)("li",{className:nt.a.video__item,children:Object($.jsx)("iframe",{width:"140",height:"120",src:"https://www.youtube.com/embed/0AohM_oOjBc",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object($.jsx)("li",{className:nt.a.video__item,children:Object($.jsx)("iframe",{width:"140",height:"120",src:"https://www.youtube.com/embed/yDSs80lu3ak",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]}),Object($.jsxs)("div",{className:nt.a.members,children:[Object($.jsx)("h3",{children:"Latest Members"}),Object($.jsxs)("ul",{className:nt.a.members__list,children:[Object($.jsx)("li",{className:nt.a.members__item}),Object($.jsx)("li",{className:nt.a.members__item}),Object($.jsx)("li",{className:nt.a.members__item}),Object($.jsx)("li",{className:nt.a.members__item}),Object($.jsx)("li",{className:nt.a.members__item}),Object($.jsx)("li",{className:nt.a.members__item})]}),Object($.jsx)("div",{})]})]})},st=function(e){return Object($.jsx)("div",{className:et.a.profileContainer,children:Object($.jsxs)("div",{className:et.a.profile,children:[Object($.jsx)(De,{savePhoto:e.savePhoto,login:e.login,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),Object($.jsx)(We,{}),Object($.jsx)(rt,{})]})})},at=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object($.jsx)(st,Object(b.a)(Object(b.a)({},this.props),{},{isOwner:!this.props.match.params.userId,login:this.props.login,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),n}(s.a.Component),ot=(Object(he.a)(at),Object(oe.d)(Object(j.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,login:e.auth.login}}),{getUserProfile:Ce,getStatus:function(e){return function(t){x(e).then((function(e){t(Se(e))}))}},updateStatus:function(e){return function(t){v(e).then((function(n){0===n.resultCode&&t(Se(e))}))}},savePhoto:function(e){return function(t){y(e).then((function(e){var n;0===e.resultCode&&t((n=e.data.photos,{type:we,photos:n}))}))}},saveProfile:function(e){return function(){var t=Object(ge.a)(Oe.a.mark((function t(n,r){var s,a;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r().auth.userId,t.next=3,P(e);case 3:if(0!==(a=t.sent).data.resultCode){t.next=8;break}n(Ce(s)),t.next=10;break;case 8:return n(Object(_e.a)("edit-profile",{_error:a.data.messages[0]})),t.abrupt("return",Promise.reject(a.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),d.g,he.a)(at)),it="SET_USER_DATA",ct="GET_CAPTCHA_URL_SUCCESS",lt={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},ut=function(e,t,n,r){return{type:it,payload:{userId:e,email:t,login:n,isAuth:r}}},dt=function(e){return{type:ct,payload:{captchaUrl:e}}},jt=function(){return function(e){return w().then((function(t){if(0===t.data.resultCode){var n=t.data.data,r=n.id,s=n.login,a=n.email;e(ut(r,a,s,!0))}}))}},pt=function(){return function(){var e=Object(ge.a)(Oe.a.mark((function e(t){var n,r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:n=e.sent,r=n.data.url,t(dt(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:case ct:return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}},ft=n(58),ht=n.n(ft),mt=function(){return Object($.jsxs)("ul",{className:ht.a.nav,children:[Object($.jsx)("li",{children:Object($.jsx)(Y.b,{to:"/profile",activeClassName:ht.a.active,children:"Profile"})}),Object($.jsx)("li",{children:Object($.jsx)(Y.b,{to:"/messages",activeClassName:ht.a.active,children:"Messages"})}),Object($.jsx)("li",{children:Object($.jsx)(Y.b,{to:"/users",activeClassName:ht.a.active,children:"Users"})})]})},Ot=n(59),gt=n.n(Ot),_t=function(e){return Object($.jsx)("header",{className:gt.a.header,children:Object($.jsxs)("div",{className:gt.a.container,children:[Object($.jsx)("p",{className:gt.a.logo,children:"SOCIAL"}),Object($.jsx)(mt,{}),Object($.jsx)("div",{className:gt.a.loginBlock,children:e.isAuth?Object($.jsxs)("div",{children:[e.login," ",Object($.jsx)("button",{onClick:e.logout,children:"Logout"})," "]}):Object($.jsx)(Y.b,{to:"/login",children:"Login"})})]})})},xt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object($.jsx)(_t,Object(b.a)({},this.props))}}]),n}(s.a.Component),vt=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){S().then((function(t){0===t.data.resultCode&&e(ut(null,null,null,!1))}))}}})(xt),yt=n(101),Pt=n.n(yt),wt=Object(Ee.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object($.jsxs)("form",{className:Te.a.loginForm,onSubmit:t,children:[Object(Ae.c)("Email","email",[Re.b],Ae.a),Object(Ae.c)("Password","password",[Re.b],Ae.a,{type:"password"}),Object($.jsx)("div",{className:Te.a.checkbox,children:Object(Ae.c)(null,"rememberMe",[],Ae.a,{type:"checkbox"},"remember me")}),r&&Object($.jsx)("img",{src:r}),r&&Object(Ae.c)("Symbols from image","captcha",[Re.b],Ae.a,{}),n&&Object($.jsx)("div",{className:Te.a.formControlSummaryError,children:n}),Object($.jsx)("button",{children:"Login"})]})})),Nt=Object(j.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,n,r){return function(s){N(e,t,n,r).then((function(e){if(0===e.data.resultCode)s(jt());else{10===e.data.resultCode&&s(pt());var t=e.data.messages.length>0?e.data.messages[0]:"Some error";s(Object(_e.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object($.jsx)(d.a,{to:"/profile"}):Object($.jsx)("div",{className:Pt.a.loginPage,children:Object($.jsxs)("div",{className:Pt.a.loginForm,children:[Object($.jsx)("h1",{children:"Login"}),Object($.jsx)(wt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})]})})})),St="INITIALIZED_SUCCESS",Ct={initialized:!1},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},kt=s.a.lazy((function(){return n.e(3).then(n.bind(null,296))})),Ut=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object($.jsxs)("div",{className:"app-wrapper",children:[Object($.jsx)(vt,{}),Object($.jsx)("div",{className:"app-wrapper-content",children:Object($.jsxs)(d.d,{children:[Object($.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object($.jsx)(d.a,{to:"/profile"})}}),Object($.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object($.jsx)(ot,{})}}),Object($.jsx)(d.b,{path:"/messages",render:(e=kt,function(t){return Object($.jsx)(s.a.Suspense,{fallback:Object($.jsx)("div",{children:"Loading..."}),children:Object($.jsx)(e,Object(b.a)({},t))})})}),Object($.jsx)(d.b,{path:"/users",render:function(){return Object($.jsx)(fe,{})}}),Object($.jsx)(d.b,{path:"/login",render:function(){return Object($.jsx)(Nt,{})}}),Object($.jsx)(d.b,{path:"*",render:function(){return Object($.jsx)("div",{children:"404 Not found"})}})]})})]}):Object($.jsx)(ae,{});var e}}]),n}(r.Component),Ft=Object(oe.d)(d.g,Object(j.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(jt()).then((function(){e({type:St})}))}}}))(Ut),Et=n(131),At=n(139),Lt=n(133),Tt=Object(oe.c)({profilePage:Ie,messagesPage:Et.b,usersPage:B,auth:bt,form:Lt.a,app:It}),zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,Gt=Object(oe.e)(Tt,zt(Object(oe.a)(At.a)));window._store_=Gt;var Mt=Gt;o.a.render(Object($.jsx)(Y.a,{children:Object($.jsx)(j.a,{store:Mt,children:Object($.jsx)(Ft,{})})}),document.getElementById("root"))},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r=function(e){if(!e)return"Field is required"},s=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},47:function(e,t,n){e.exports={userContainer:"Users_userContainer__1Ycei",userList:"Users_userList__1Pdux",userItem:"Users_userItem__GlyEr",userInfo:"Users_userInfo__21fTd",photo:"Users_photo__2hOPg",selectedPage:"Users_selectedPage__J63sh"}},58:function(e,t,n){e.exports={nav:"Navbar_nav__31eBs",active:"Navbar_active__1NBcA"}},59:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87",loginBlock:"Header_loginBlock__6mma5"}},74:function(e,t,n){e.exports={paginator:"Paginator_paginator__18P4_",pageNumber:"Paginator_pageNumber__xOsKi",selectedPage:"Paginator_selectedPage__3SIki"}},76:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__14O2X",myPostsForm:"MyPosts_myPostsForm__290-O",postList:"MyPosts_postList__2e48R"}},77:function(e,t,n){e.exports={post:"Post_post__A0EJd",message:"Post_message__3raFK",like:"Post_like__oViQh"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),s=n(21),a=n(22),o=n(24),i=n(23),c=n(1),l=n.n(c),u=n(13),d=n(11),j=n(0),p=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(i.a)(c);function c(){return Object(s.a)(this,c),n.apply(this,arguments)}return Object(a.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(r.a)({},this.props)):Object(j.jsx)(d.a,{to:"/login"})}}]),c}(l.a.Component);return Object(u.b)(p)(t)}}},[[294,1,2]]]);
//# sourceMappingURL=main.78f63211.chunk.js.map